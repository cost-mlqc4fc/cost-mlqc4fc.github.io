{% assign mode = include.mode | default: 'detailed' %}

{% if mode == 'compact' %}
<div class="container-fluid py-5">
    <div class="container py-5">
        {% assign items = site.data.structure.items %}
        {% assign first_row = items | slice: 0, 2 %}
        {% assign second_row = items | slice: 2, 4 %}

        <div class="row g-4 align-items-start mb-3">
            <div class="col-lg-6 d-flex flex-column">
                <div>
                    <h5 class="text-uppercase text-primary">Structure</h5>
                    <h2 class="mb-3">How MLQC4FC is organised</h2>
                    <p class="mb-4">MLQC4FC brings together five Working Groups, two cross-cutting committees, and a Management Committee
                        coordinated by a Core Group. Delegates from COST Member Countries provide the mandate, the Core Group steers
                        execution between plenary meetings, and each Working Group runs bottom-up initiatives aligned with the Action
                        objectives.</p>
                    <p class="mb-4">The Grant Holder Team underpins everything with financial and administrative support. Together these
                        layers keep the Action agile: WG deliverables flow into MC decisions, cross-cutting platforms provide resources for
                        inclusiveness and communications, and the Core Group makes sure emerging opportunities are captured quickly.</p>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="row g-3">
                    {% for item in first_row %}
                    <div class="col-6">
                        <a class="structure-card d-flex flex-column text-decoration-none" href="{{ item.href }}">
                            {% include structure-card-visual.html item=item linkable=false title_tag="span" show_overlay=false %}
                            <div class="structure-card__body">
                                <h6 class="text-uppercase text-primary fw-semibold mb-2">{{ item.title }}</h6>
                                <p class="mb-0 text-white">{{ item.description | truncate: 95, '…' }}</p>
                            </div>
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <div class="row g-3 align-items-stretch mt-1">
            {% for item in second_row %}
            <div class="col-6 col-lg-3">
                <a class="structure-card d-flex flex-column text-decoration-none" href="{{ item.href }}">
                    {% include structure-card-visual.html item=item linkable=false title_tag="span" show_overlay=false %}
                    <div class="structure-card__body">
                        <h6 class="text-uppercase text-primary fw-semibold mb-2">{{ item.title }}</h6>
                        <p class="mb-0 text-white">{{ item.description | truncate: 95, '…' }}</p>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% else %}
    {% include working-groups.html %}
    {% include structure-platforms.html %}
    {% include structure-management.html %}
    {% include structure-core-group.html %}
    {% include structure-grant-holder.html %}
{% endif %}
